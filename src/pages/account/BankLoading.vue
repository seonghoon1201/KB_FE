<!-- src/pages/account/BankLoading.vue -->
<template>
    <div class="bg-white min-h-screen flex flex-col items-center justify-center px-6 py-10">
        <img
            v-if="accountStore.selectedBankLogo"
            :src="accountStore.selectedBankLogo"
            alt="μ€ν–‰ λ΅κ³ "
            class="w-20 h-20 object-contain mb-6"
        />

        <div class="flex flex-col items-center gap-2">
            <div
                class="w-5 h-5 border-2 border-gray-300 border-t-[#7B61FF] rounded-full animate-spin"
            ></div>
            <h2 class="text-lg font-bold text-gray-800 mt-2">κ³„μΆ μ—°κ²° μ¤‘β€¦</h2>
            <p class="text-sm text-gray-500">
                {{ accountStore.selectedBankName }}κ³Ό(μ™€) κ°„νΈν•κ² μ—°κ²°ν•κ³  μμ–΄μ”
            </p>
        </div>

        <div
            class="mt-10 px-4 py-3 rounded-md bg-[#F5F8FF] text-xs text-[#356AE6] font-medium text-center w-full max-w-xs"
        >
            π”’ 256bit SSL μ•”νΈν™”λ΅<br />
            μ•μ „ν•κ² λ³΄νΈλ©λ‹λ‹¤
        </div>
    </div>
</template>

<script setup>
import { watch } from 'vue'
import { useRouter } from 'vue-router'
import { useAccountStore } from '@/stores/account'

const router = useRouter()
const accountStore = useAccountStore()

// μ—°κ²°μ΄ μ™„λ£λλ” μκ°„ λ°”λ΅ Complete νμ΄μ§€λ΅
watch(
    () => accountStore.resAccount,
    (val) => {
        if (val) {
            router.replace('/bank/complete')
        }
    },
)
</script>
